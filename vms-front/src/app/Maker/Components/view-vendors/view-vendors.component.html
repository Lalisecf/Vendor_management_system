<div class="row">
  <div class="col-12">
    <div class="page-title-box">
      <app-navigator-upper></app-navigator-upper>
      <h4 class="page-title">Vendors</h4>
      <div class="card">
        <div class="card-body">
          <h4 class="header-title">List of Vendors</h4>
          <div class="continer mb-4">
            <div class="row">
              <div class="row d-flex justify-content-end">
                <button id="reset_button" class="btn btn-primary" style="width: fit-content" (click)="clearAllSearches()">
                  Reset
                </button>&nbsp;&nbsp;&nbsp;&nbsp;
                <!-- <button class="btn btn-secondary" style="width: fit-content" (click)="reload()">
                  Reload
                </button>&nbsp;&nbsp;&nbsp;&nbsp; -->
                <button class="btn btn-primary" style="width: fit-content" (click)="goToPage('maker/add-vendor')">
                  Register Vendor
                </button>
              </div>
            </div>
          </div>
          <div class="container">
            <div class="row">
              <!-- <blockquote>Please click on a row</blockquote>
                <p class="text-danger">
                  You clicked on: <strong>{{ message }}</strong>
                </p>
                <br />
  
                <hr />
                <p>
                  <button
                    type="button"
                    class="btn btn-primary"
                    (click)="displayToConsole(datatableElement)"
                  >
                    Display the DataTable instance in the console
  
                  </button>
                </p>
                <hr /> -->
              <!-- <form (submit)="filterById()" class="mb-2">
                  <div class="row g-2">
                    <div class="col-md">
                      <div class="form-group">
                        <input
                          type="number"
                          name="min"
                          id="min"
                          [(ngModel)]="min"
                          class="form-control"
                        />
                        <label for="groupInputGrid">Min</label>
                      </div>
                    </div>
                    <div class="col-md">
                      <div class="form-group">
                        <input
                          type="number"
                          name="max"
                          id="max"
                          [(ngModel)]="max"
                          class="form-control"
                        />
                        <label for="groupInputGrid">Max</label>
                      </div>
                    </div>
                    <div class="col-md-3">
                      <div class="form-group">
                        <button class="btn btn-primary" type="submit">
                          Filter by ID
                        </button>
                      </div>
                    </div>
                  </div>
                </form> -->
              <!-- <br />
                <hr /> -->
              <table datatable [dtOptions]="dtOptions" id="vendors_table"
                class="table dt-responsive nowrap w-100">
                <tfoot>
                  <tr style="border-top: none !important">
                    <th>
                      <div class="form-floating">
                        <input type="text" id="floatingInput" [ngModel]="input_0" id="{{ first_column_id }}"
                          name="search-id" class="form-control {{ first_column_id }} _id" />
                        <label for="floatingInput">Id</label>
                      </div>
                    </th>
                    <th>
                      <div class="form-floating">
                        <input type="text" id="floatingInput" id="{{ second_column_id }}" name="search-first-name"
                          [ngModel]="input_1" class="form-control {{ second_column_id }} _firstname" />

                        <label for="floatingInput">Vendor Name</label>
                      </div>
                    </th>
                    <th>
                      <div class="form-floating">
                        <input type="text" id="floatingInput" id="{{ third_column_id }}" name="search-last-name"
                          [ngModel]="input_2" class="form-control {{ third_column_id }} _middlename" />

                        <label for="floatingInput">Total contract</label>
                      </div>
                    </th>
                    <th>
                      <div class="form-floating">
                        <input type="text" id="floatingInput" id="{{ fourth_column_id }}" name="search-last-name"
                          [ngModel]="input_3" class="form-control {{ fourth_column_id }} _middlename" />

                        <label for="floatingInput"> Category</label>
                      </div>
                    </th>
                    <!-- <th>
                      <div class="form-floating">
                        <input type="text" id="floatingInput" id="{{ fifth_column_id }}" name="search-last-name"
                          [ngModel]="input_4" class="form-control {{ fifth_column_id }} _lastname" />

                        <label for="floatingInput">Service</label>
                      </div>
                    </th> -->
                    <th>
                      <div class="form-floating">
                        <input type="text" id="floatingInput" id="{{ sixth_column_id }}" name="search-last-name"
                          [ngModel]="input_5" class="form-control {{ sixth_column_id }} _gender" />

                        <label for="floatingInput">Phone Number</label>
                      </div>
                    </th>
                    <th>
                      <div class="form-floating">
                        <input type="text" id="floatingInput" id="{{ seventh_column_id }}" name="search-last-name"
                          [ngModel]="input_6" class="form-control {{ seventh_column_id }} _role" />

                        <label for="floatingInput">Email</label>
                      </div>
                    </th>
                    <th>
                      <div class="form-floating">
                        <input type="text" id="floatingInput" id="{{ eighth_column_id }}" name="search-last-name"
                          [ngModel]="input_7" class="form-control {{ eighth_column_id }} _email" />

                        <label for="floatingInput">Website</label>
                      </div>
                    </th>
                    <th>
                      <div class="form-floating">
                        <input type="text" id="floatingInput" id="{{ ninth_column_id }}" name="search-last-name"
                          [ngModel]="input_8" class="form-control {{
                              ninth_column_id
                            }} _phonenumber" />

                        <label for="floatingInput">Location </label>
                      </div>
                    </th>
                    <th>
                      <div class="form-floating">
                        <input type="text" id="floatingInput" id="{{ tenth_column_id }}" name="search-last-name"
                          [ngModel]="input_9" class="form-control {{ tenth_column_id }} _reg_date" />

                        <label for="floatingInput">address</label>
                      </div>
                    </th>
                    <th>
                      <div class="form-floating">
                        <input type="text" id="floatingInput" id="{{ eleventh_column_id }}" name="search-last-name"
                          [ngModel]="input_10" class="form-control {{ eleventh_column_id }} _status" />

                        <label for="floatingInput">Posta Number</label>
                      </div>
                    </th>
                    <th>
                      <div class="form-floating">
                        <input type="text" id="floatingInput" id="{{ twelfth_column_id }}" name="search-last-name"
                          [ngModel]="input_11" class="form-control {{
                              twelfth_column_id
                            }} _change_status" />

                        <label for="floatingInput">Fax Number</label>
                      </div>
                    </th>
                    <th>
                      <div class="form-floating">
                        <input type="text" id="floatingInput" id="{{ thirteenth_column_id }}" name="search-last-name"
                          [ngModel]="input_12" class="form-control {{ thirteenth_column_id }} _action" />

                        <label for="floatingInput">General Document </label>
                      </div>
                    </th>
                    <th>
                      <div class="form-floating">
                        <input type="text" id="floatingInput" id="{{ fourteenth_column_id }}" name="search-last-name"
                          [ngModel]="input_13" class="form-control {{ fourteenth_column_id }} _action" />

                        <label for="floatingInput">Trade licence</label>
                      </div>
                    </th>
                    <th>
                      <div class="form-floating">
                        <input type="text" id="floatingInput" id="{{fiveteenth_column_id }}" name="search-last-name"
                          [ngModel]="input_14" class="form-control {{ fiveteenth_column_id }} _action" />

                        <label for="floatingInput">tin certificate </label>
                      </div>
                    </th>
                    <th>
                      <div class="form-floating">
                        <input type="text" id="floatingInput" id="{{ sixteenth_column_id }}" name="search-last-name"  [ngModel]="input_15"
                          [disabled]="true" class="form-control {{ sixteenth_column_id }} _action" />
                        <label for="floatingInput">other Document</label>
                      </div>
                    </th>
                    <th>
                      <div class="form-floating">
                        <input type="text" id="floatingInput" id="{{ seventeenth_column_id }}" name="search-last-name" [ngModel]="input_16"
                          class="form-control {{ seventeenth_column_id }} _action" />

                        <label for="floatingInput">status </label>
                      </div>
                    </th>
                    <th>
                      <div class="form-floating">
                        <input type="text" id="floatingInput" id="{{ eighteenth_column_id }}" name="search-last-name" [ngModel]="input_17"
                         class="form-control {{ eighteenth_column_id }} _action" />

                        <label for="floatingInput">change Status </label>
                      </div>
                    </th>
                    <th>
                      <div class="form-floating">
                        <input type="text" id="floatingInput" id="{{ ninteenth_column_id }}" name="search-last-name" [ngModel]="input_18"
                          [disabled]="true" class="form-control {{ ninteenth_column_id }} _action" />

                        <label for="floatingInput">action </label>
                      </div>
                    </th>
                  </tr>
                </tfoot>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="detail_history_modal" class="modal fade" data-bs-backdrop="static" data-keyboard="false" tabindex="-1"
  role="dialog" aria-labelledby="detail_transaction_modalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-xl">

    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="detail_transaction_modalLabel">View detail history of Vendor id {{vendor_id}}.
        </h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-hidden="true"></button>
      </div>
      <div class="d-none" id="lalksdf6a5s4d6ffas"></div>
      <div class="row" style="padding-left: 3%; padding-right: 3%;">
        <table datatable [dtOptions]="dtOptions_deatil_history" id="view_detail_vendor_history"
          class="table table-bordered dt-responsive w-100">

        </table>
      </div>
      <br>
      <!-- <div style="text-align: center;" *ngFor="let reas of reasonEditDelete" id="cleardata">
        <p><span><b>Reason : </b> {{reas.reason}}</span>,&nbsp;&nbsp;&nbsp;
          <span><b>Action By : </b> {{reas.by}}</span>,&nbsp;&nbsp;&nbsp;
          <span><b>Date : </b> {{reas.date}}</span>
        </p>
      </div> -->


      <div class="modal-footer">
        <button type="button" class="btn btn-light" data-bs-dismiss="modal">Cancel</button>
      </div>
    </div>

  </div>
</div>
<div id="reason_modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true" data-bs-backdrop="static"
  data-bs-keyboard="false">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Please enter title and description of {{reason}} reason</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">

        <form class="ps-3 pe-3" (ngSubmit)="onSubmitReason()" [formGroup]="reasonForm">
          <div class="mb-3">
            <label for="title" class="form-label">Title</label>
            <input class="form-control" type="text" id="title" placeholder="Title" formControlName="title"
              autocomplete="off">
            <div class="valid-feedback" *ngIf="
                submitted && reasonForm.controls['title'].valid
              ">
              Looks good!
            </div>
            <div class="invalid-feedback" *ngIf="submitted && reasonForm.controls['title'].errors?.['required']">
              Please enter title.
            </div>
            <div class="invalid-feedback" *ngIf="submitted && reasonForm.controls['title'].errors?.['minlength']">
              At least 2 Characters.
            </div>
            <div class="invalid-feedback" *ngIf="submitted && reasonForm.controls['title'].errors?.['maxlength']">
              At most 30 Characters.
            </div>
          </div>

          <div class="mb-3">
            <label for="description" class="form-label">Description</label>
            <quill-editor class="form-control" type="text" id="description" placeholder="Description"
              formControlName="description"></quill-editor>
            <div class="valid-feedback" *ngIf="submitted && reasonForm.controls['description'].valid">
              Looks good!
            </div>
            <div class="invalid-feedback" *ngIf="submitted && reasonForm.controls['description'].errors?.['required']">
              Please enter description for {{reason}} reason.
            </div>
          </div>
          <div class="mb-3 text-center modal-footer">
            <button class="btn btn-primary" type="submit">Submit</button>
          </div>
        </form>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div>
<div id="reject-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true" data-bs-backdrop="static"
  data-bs-keyboard="false">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Please enter title and description of rejecting reason</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">

        <form class="ps-3 pe-3" (ngSubmit)="onSubmit()" [formGroup]="registerForm">
          <div class="mb-3">
            <label for="title" class="form-label">Title</label>
            <input class="form-control" type="text" id="title" placeholder="Title" formControlName="title"
              autocomplete="off">
            <div class="valid-feedback" *ngIf="
                submitted && registerForm.controls['title'].valid
              ">
              Looks good!
            </div>
            <div class="invalid-feedback" *ngIf="submitted && registerForm.controls['title'].errors?.['required']">
              Please enter title.
            </div>
            <div class="invalid-feedback" *ngIf="submitted && registerForm.controls['title'].errors?.['minlength']">
              At least 2 Characters.
            </div>
            <div class="invalid-feedback" *ngIf="submitted && registerForm.controls['title'].errors?.['maxlength']">
              At most 30 Characters.
            </div>
          </div>

          <div class="mb-3">
            <label for="description" class="form-label">Description</label>
            <quill-editor class="form-control" type="text" id="description" placeholder="Description"
              formControlName="description"></quill-editor>
            <div class="valid-feedback" *ngIf="submitted && registerForm.controls['description'].valid">
              Looks good!
            </div>
            <div class="invalid-feedback"
              *ngIf="submitted && registerForm.controls['description'].errors?.['required']">
              Please enter description for rejecting reason.
            </div>
          </div>
          <div class="mb-3 text-center modal-footer">
            <button class="btn btn-primary" type="submit">Submit</button>
          </div>
        </form>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div>
<div id="view_remark_modal" class="modal fade" data-bs-backdrop="static" data-keyboard="false" tabindex="-1"
  role="dialog" aria-labelledby="view_remark_modalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">

    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="view_remark_modalLabel"
          style="color:black;font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;">
          <i class="uil-comments text-primary">View Remarks</i>
        </h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-hidden="true"></button>
      </div>
      <div class="row"></div>
      <div style="margin-left:5%;margin-right:5%;">
        <table datatable [dtOptions]="dtOptions_view_remarks" id="view_pool_remark"
          class="table table-bordered dt-responsive nowrap w-100">
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-light" data-bs-dismiss="modal">Cancel</button>
      </div>
    </div>

  </div>
</div>
<div id="edit_modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true" data-bs-backdrop="static"
  data-bs-keyboard="false">
  <div class="modal-dialog modal-dialog-centered modal-lg" style="width:auto;">
    <div class="modal-content" style="width: max-content;">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel"> If you want to manage your coment,You can possible use blow
          options.</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">

        <form class="ps-3 pe-3" [formGroup]="editForm">
          <div class="mb-3">
            <label for="title" class="form-label">Title</label>
            <input class="form-control" type="text" id="title" placeholder="Title" formControlName="title"
              [(ngModel)]="remark.title" autocomplete="off">
            <div class="valid-feedback" *ngIf="
                submitted && editForm.controls['title'].valid
              ">
              Looks good!
            </div>
            <div class="invalid-feedback" *ngIf="submitted && editForm.controls['title'].errors?.['required']">
              Please enter title.
            </div>
            <div class="invalid-feedback" *ngIf="submitted && editForm.controls['title'].errors?.['minlength']">
              At least 2 Characters.
            </div>
            <div class="invalid-feedback" *ngIf="submitted && editForm.controls['title'].errors?.['maxlength']">
              At most 30 Characters.
            </div>
          </div>

          <div class="mb-3">
            <label for="description" class="form-label">Description</label>
            <quill-editor class="form-control" type="text" id="description" placeholder="Description"
              formControlName="description" [(ngModel)]="remark.description"></quill-editor>
            <div class="valid-feedback" *ngIf="submitted && editForm.controls['description'].valid">
              Looks good!
            </div>
            <div class="invalid-feedback" *ngIf="submitted && editForm.controls['description'].errors?.['required']">
              Please enter description for rejecting reason.
            </div>
          </div>
          <div class="mb-3 text-center modal-footer">
            <button class="btn btn-primary" type="submit" (click)="delete()">Delete</button>
            <button class="btn btn-primary" type="submit" (click)="update()">Edit</button>
          </div>
        </form>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div>
<swal #SwalSessionExpired title="Warning" text="Your session has expired! please login to continue." icon="warning"
  [showCancelButton]="false" [showConfirmButton]="false" [timer]="3500" [focusCancel]="true">
</swal>