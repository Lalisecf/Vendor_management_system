<div class="row">
    <div class="col-12">
        <div class="page-title-box">
            <app-navigator-upper></app-navigator-upper>
            <h4 class="page-title">Home</h4>
            <!-- Approver dashboard beging-->
            <div *ngIf="authService.isApprover()">
                <!-- <div *ngIf="authService.isApprover()">
                    <h2>wellcome Approver</h2>
                </div> -->
                <div class="row" style="margin-left:25%;margin-top:3%;">
                    <div class="col-xl-6 ">
                        <div class="card">
                            <div class="card-body" style="height: 305px !important">
                                <h6 class="text-uppercase mt-0">User Account Requests</h6>
                                <div *ngIf="!chart4_no_data" class="row" style="    display: flex;
                                        align-items: center;
                                        justify-content: center;
                                        height: 100%;
                                        padding-bottom: 12px;">

                                    <canvas id="MyChart4">{{ chart4 }}</canvas>
                                </div>
                                <div *ngIf="chart4_no_data" style="width: 100%; height: 100%; position: relative;">
                                    <div
                                        style="text-align: center; width: 100%; height: 100%; position: absolute; left: 0; top: 50%; z-index: 200;">
                                        <b>No request </b>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card" *ngIf="!approver_data_is_ready"
                            style="margin-top: -330px !important; z-index: 12;">
                            <div class="card-body card__ is-loading" style="height: 307px !important">
                                <h6 class="text-uppercase mt-0"></h6>
                                <h5></h5>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div *ngIf="authService.isMaker() || authService.isChecker()">
                <div class="row">

                    <h3 class="text-primary">
                        <span class="circle"><i class="mdi mdi-alpha-v text-warning"></i></span> Vendor Managment :
                        <!-- <span class="circle"><i class="mdi mdi-alpha-c text-primary"></i></span> Contract Management System -->
                    </h3>
                    <div class="col-xl-6 ">
                        <div class="card">
                            <div class="card-body" style="height: 347px !important">
                                <h6 class="text-uppercase mt-0 text-primary">Vendors </h6>
                                <div *ngIf="!chart7_no_data" class="row" style="    display: flex;
                                        align-items: center;
                                        justify-content: center;
                                        height: 100%;
                                        padding-bottom: 12px;">
                                    <canvas id="MyChart7">{{chart7}}</canvas>
                                </div>
                                <div *ngIf="chart7_no_data" style="width: 100%; height: 100%; position: relative;">
                                    <div
                                        style="text-align: center; width: 100%; height: 100%; position: absolute; left: 0; top: 50%; z-index: 200;">
                                        <b>No Vendors </b>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card" *ngIf="!maker_data_is_ready"
                            style="margin-top: -370px !important; z-index: 12;">
                            <div class="card-body card__ is-loading" style="height: 350px !important">
                                <h6 class="text-uppercase mt-0"></h6>
                                <h5></h5>
                            </div>
                        </div>
                    </div>


                    <div class="col-xl-6 ">
                        <div class="card">
                            <div class="card-body" style="height: 347px !important">
                                <h6 class="text-uppercase mt-0 text-primary">Vendor Requests </h6>
                                <div *ngIf="!chart6_no_data" class="row" style="    display: flex;
                                            align-items: center;
                                            justify-content: center;
                                            height: 100%;
                                            padding-bottom: 12px;">
                                    <canvas id="MyChart6">{{chart6}}</canvas>
                                </div>
                                <div *ngIf="chart6_no_data" style="width: 100%; height: 100%; position: relative;">
                                    <div
                                        style="text-align: center; width: 100%; height: 100%; position: absolute; left: 0; top: 50%; z-index: 200;">
                                        <b>No Vendor Requests </b>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card" *ngIf="!maker_data_is_ready"
                            style="margin-top: -370px !important; z-index: 12;">
                            <div class="card-body card__ is-loading" style="height: 350px !important">
                                <h6 class="text-uppercase mt-0"></h6>
                                <h5></h5>
                            </div>
                        </div>
                    </div>
                    <!-- <hr style="border-width: 10px;color: rgb(0, 162, 255);"> -->
                    <h3 class="text-primary ">
                        <!-- <span class="circle"><i class="mdi mdi-alpha-v text-primary"></i></span> Vendor and   -->
                        <span class="circle"><i class="mdi mdi-alpha-c text-warning"></i></span> Contract Management :
                    </h3> <!-- <hr style="border-width: 10px;color: yellowgreen;"> -->

                    <div class="col-xl-6 ">
                        <div class="card">
                            <div class="card-body" style="height: 347px !important">
                                <h6 class="text-uppercase mt-0 text-primary">Contract Requests </h6>
                                <div *ngIf="!chart8_no_data" class="row" style="    display: flex;
                                            align-items: center;
                                            justify-content: center;
                                            height: 100%;
                                            padding-bottom: 12px;">
                                    <canvas id="MyChart8">{{chart8}}</canvas>
                                </div>
                                <div *ngIf="chart6_no_data" style="width: 100%; height: 100%; position: relative;">
                                    <div
                                        style="text-align: center; width: 100%; height: 100%; position: absolute; left: 0; top: 50%; z-index: 200;">
                                        <b>No Contract Requests </b>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card" *ngIf="!maker_data_is_ready"
                            style="margin-top: -370px !important; z-index: 12;">
                            <div class="card-body card__ is-loading" style="height: 350px !important">
                                <h6 class="text-uppercase mt-0"></h6>
                                <h5></h5>
                            </div>
                        </div>
                    </div>



                    <div class="col-xl-6 ">
                        <div class="card">
                            <div class="card-body" style="height: 347px !important">
                                <h6 class="text-uppercase mt-0 text-primary">Contract </h6>
                                <div *ngIf="!chart9_no_data" class="row" style="    display: flex;
                                        align-items: center;
                                        justify-content: center;
                                        height: 100%;
                                        padding-bottom: 12px;">
                                    <canvas id="MyChart9">{{chart9}}</canvas>
                                </div>
                                <div *ngIf="chart9_no_data" style="width: 100%; height: 100%; position: relative;">
                                    <div
                                        style="text-align: center; width: 100%; height: 100%; position: absolute; left: 0; top: 50%; z-index: 200;">
                                        <b>No Contracts </b>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card" *ngIf="!maker_data_is_ready"
                            style="margin-top: -370px !important; z-index: 12;">
                            <div class="card-body card__ is-loading" style="height: 350px !important">
                                <h6 class="text-uppercase mt-0"></h6>
                                <h5></h5>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <!--============Admin Dashboard===================-->
            <div *ngIf="authService.isAdmin()">
                <div class="row">
                    <div class="col-xl-6 ">
                        <div class="card">
                            <div class="card-body" style="height: 347px !important">
                                <h6 class="text-uppercase mt-0">Role functionalities</h6>
                                <div *ngIf="!chart5_no_data" class="row" style="    display: flex;
                                            align-items: center;
                                            justify-content: center;
                                            height: 100%;
                                            padding-bottom: 12px;">
                                    <canvas id="MyChart5">{{chart5}}</canvas>
                                </div>
                                <div *ngIf="chart5_no_data" style="width: 100%; height: 100%; position: relative;">
                                    <div
                                        style="text-align: center; width: 100%; height: 100%; position: absolute; left: 0; top: 50%; z-index: 200;">
                                        <b>No user</b>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card" *ngIf="!admin_data_is_ready"
                            style="margin-top: -370px !important; z-index: 12;">
                            <div class="card-body card__ is-loading" style="height: 350px !important">
                                <h6 class="text-uppercase mt-0"></h6>
                                <h5></h5>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-6 ">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="card" *ngIf="admin_data_is_ready">
                                    <div class="card-body" style="height: 180px;">
                                        <i class='mdi mdi-24px mdi-account float-end'></i>
                                        <h6 class="text-uppercase mt-0">Users</h6>
                                        <h4 class="my-0" id="active-users-count">Active Users &nbsp;&nbsp;&nbsp;:&nbsp;
                                            <span
                                                class="dashboard-number-text">{{adminDashboard_data.total_number_active_users}}</span>
                                        </h4>
                                        <h4 class="mb-1 mt-0" id="active-users-count">Inactie Users&nbsp; :&nbsp; <span
                                                class="dashboard-number-text">{{adminDashboard_data.total_number_inactive_users}}</span>
                                        </h4>
                                        <h4 class="my-2" id="active-users-count">Total&nbsp; :&nbsp; <span
                                                class="dashboard-number-text">{{adminDashboard_data.total_number_of_Users}}</span>
                                        </h4>
                                        <p class="mb-0 text-muted">
                                            <span class="text-nowrap">Users Information</span>
                                        </p>
                                    </div>
                                </div>
                                <div class="card" *ngIf="!admin_data_is_ready">
                                    <div class="card-body card__ is-loading">
                                        <!-- <i class='mdi mdi-24px mdi-book-account float-end'></i> -->
                                        <h6 class="text-uppercase mt-0 d_item_title"></h6>
                                        <h2 class="my-2" id="active-users-count"></h2>
                                        <p class="mb-0 text-muted">
                                            <span class="text-nowrap"></span>
                                        </p>
                                    </div>
                                </div>
                                <div class="card" *ngIf="admin_data_is_ready">
                                    <div class="card-body">
                                        <i class='mdi mdi-24px mdi-login float-end'></i>
                                        <h6 class="text-uppercase mt-0">Logins</h6>
                                        <h2 class="my-2" id="active-users-count">
                                            {{adminDashboard_data.total_logins}}</h2>
                                        <p class="mb-0 text-muted float-bottom">

                                            <span class="text-nowrap">Total number of login and logout</span>
                                        </p>
                                    </div>
                                </div>
                                <div class="card is-loading" *ngIf="!admin_data_is_ready">
                                    <div class="card-body card__ is-loading">
                                        <!-- <i class='mdi mdi-24px mdi-bank-transfer float-end'></i> -->
                                        <h6 class="text-uppercase mt-0 d_item_title"></h6>
                                        <h2 class="my-2" id="active-users-count"></h2>
                                        <p class="mb-0 text-muted">
                                            <span class="text-nowrap"></span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card" *ngIf="admin_data_is_ready">
                                    <div class="card-body" style="height: 180px;">
                                        <i class='mdi mdi-24px mdi-account-key-outline float-end'></i>
                                        <h6 class="text-uppercase mt-0">Functionalities</h6>
                                        <h2 class="my-2" id="active-users-count">
                                            {{adminDashboard_data.total_number_of_functionalities}}</h2>
                                        <p class="mb-0 text-muted" style="margin-top: 26px">
                                            <br>
                                            <span class="text-nowrap">Total functionalities</span>
                                        </p>
                                    </div>
                                </div>
                                <div class="card" *ngIf="!admin_data_is_ready">
                                    <div class="card-body card__ is-loading">
                                        <!-- <i class='mdi mdi-24px mdi-currency-eur float-end'></i> -->
                                        <h6 class="text-uppercase mt-0 d_item_title"></h6>
                                        <h2 class="my-2" id="active-users-count"></h2>
                                        <p class="mb-0 text-muted">
                                            <span class="text-nowrap"></span>
                                        </p>
                                    </div>
                                </div>
                                <div class="card" *ngIf="admin_data_is_ready">
                                    <div class="card-body">
                                        <i class='mdi mdi-24px mdi-clipboard-list-outline float-end'></i>
                                        <h6 class="text-uppercase mt-0">User Activities</h6>
                                        <h2 class="my-2" id="active-users-count">
                                            {{adminDashboard_data.total_number_of_user_activity}}</h2>
                                        <p class="mb-0 text-muted">
                                            <!-- <span class="text-success me-2"><span class="mdi mdi-arrow-up-bold"></span> 5.27%</span> -->
                                            <span class="text-nowrap">Total number of user activities</span>
                                        </p>
                                    </div>
                                </div>
                                <div class="card" *ngIf="!admin_data_is_ready">
                                    <div class="card-body card__ is-loading">
                                        <!-- <i class='mdi mdi-24px mdi-file-chart float-end'></i> -->
                                        <h6 class="text-uppercase mt-0 d_item_title"></h6>
                                        <h2 class="my-2" id="active-users-count"></h2>
                                        <p class="mb-0 text-muted">
                                            <span class="text-nowrap"></span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div *ngIf="authService.isManager() || authService.isDirector()|| authService.isChief()|| authService.isFinance()">
                <div class="row">

                    <h3 class="text-primary">
                        <span class="circle"><i class="mdi mdi-alpha-v text-warning"></i></span> Payment Managment :
                        <!-- <span class="circle"><i class="mdi mdi-alpha-c text-primary"></i></span> Contract Management System -->
                    </h3>
                    <div class="col-xl-6 ">
                        <div class="card">
                            <div class="card-body" style="height: 347px !important">
                                <h6 class="text-uppercase mt-0 text-primary">Payments </h6>
                                <div *ngIf="!chart10_no_data" class="row" style="    display: flex;
                                        align-items: center;
                                        justify-content: center;
                                        height: 100%;
                                        padding-bottom: 12px;">
                                    <canvas id="MyChart10">{{chart10}}</canvas>
                                </div>
                                <div *ngIf="chart10_no_data" style="width: 100%; height: 100%; position: relative;">
                                    <div
                                        style="text-align: center; width: 100%; height: 100%; position: absolute; left: 0; top: 50%; z-index: 200;">
                                        <b>No Payments </b>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card" *ngIf="!manager_data_is_ready"
                            style="margin-top: -370px !important; z-index: 12;">
                            <div class="card-body card__ is-loading" style="height: 350px !important">
                                <h6 class="text-uppercase mt-0"></h6>
                                <h5></h5>
                            </div>
                        </div>
                    </div>


                    <div class="col-xl-6 ">
                        <div class="card">
                            <div class="card-body" style="height: 347px !important">
                                <h6 class="text-uppercase mt-0 text-primary">Payment Requests </h6>
                                <div *ngIf="!chart11_no_data" class="row" style="    display: flex;
                                            align-items: center;
                                            justify-content: center;
                                            height: 100%;
                                            padding-bottom: 12px;">
                                    <canvas id="MyChart11">{{chart11}}</canvas>
                                </div>
                                <div *ngIf="chart11_no_data" style="width: 100%; height: 100%; position: relative;">
                                    <div
                                        style="text-align: center; width: 100%; height: 100%; position: absolute; left: 0; top: 50%; z-index: 200;">
                                        <b>No Payment Requests </b>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card" *ngIf="!manager_data_is_ready"
                            style="margin-top: -370px !important; z-index: 12;">
                            <div class="card-body card__ is-loading" style="height: 350px !important">
                                <h6 class="text-uppercase mt-0"></h6>
                                <h5></h5>
                            </div>
                        </div>
                    </div>
                    <!-- <hr style="border-width: 10px;color: rgb(0, 162, 255);"> -->
                    <h3 class="text-primary">
                        <span class="circle"><i class="mdi mdi-alpha-c text-warning"></i></span> Amount Management :
                    </h3>
                    

                    
                    <!-- Payment Charts Section -->
                    <div class="row">
                        <!-- Left Column: Payment Amount Chart -->
                        <div class="col-xl-6 d-flex align-items-stretch">
                            <div class="card w-100">
                                <div class="card-body" style="height: 347px !important">
                                    <h6 class="text-uppercase mt-0 text-primary">Payment Amount </h6>
                                    <div *ngIf="!chart12_no_data" class="row" style="    display: flex;
                                                align-items: center;
                                                justify-content: center;
                                                height: 100%;
                                                padding-bottom: 12px;">
                                        <canvas id="MyChart12">{{chart12}}</canvas>
                                        
                                    </div>
                                    <div *ngIf="chart12_no_data" style="width: 100%; height: 100%; position: relative;">
                                        <div
                                            style="text-align: center; width: 100%; height: 100%; position: absolute; left: 0; top: 50%; z-index: 200;">
                                            <b>No Payment Amount </b>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card" *ngIf="!manager_data_is_ready"
                                style="margin-top: -370px !important; z-index: 12;">
                                <div class="card-body card__ is-loading" style="height: 350px !important">
                                    <h6 class="text-uppercase mt-0"></h6>
                                    <h5></h5>
                                </div>
                            </div>
                        </div>
                    
                        <!-- Right Column: Payment Each Chart -->
                        <div class="col-xl-6 d-flex align-items-stretch">
                            <div class="card w-100">
                                <!-- Vendor and Contract Selection positioned over the Payment Each section -->
                                <div class="row justify-content-end mb-4" style="z-index: 1000; width: 100%; margin-bottom: 20px;">
                                    <div class="col-sm-6">
                                        <div class="form-group">
                                            <label for="vendor" class="form-label">
                                                <i class="mdi mdi-domain text-warning"></i> Vendor <span class="text-danger">*</span>
                                            </label>
                                            <input type="text" class="form-control" placeholder="Please search the required Vendor here!" (input)="filterVendors($event)" formControlName="searchIn" />
                                            <select formControlName="vendorId" class="form-select" (change)="onVendorChange($event)">
                                                <option [ngValue]="null" disabled selected style="background-color: orange; color: white;">
                                                    Please Select the required Vendor
                                                </option>
                                                <option *ngFor="let vendor of filteredVendors" [value]="vendor.id">
                                                    {{ vendor.name }}
                                                </option>
                                            </select>
                                        </div>
                                        <div class="invalid-feedback" *ngIf="submitted && registerForm.controls['vendorId'].errors?.['required']">
                                            Please Select Vendor.
                                        </div>
                                    </div>
                                
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="contract" class="form-label fw-bold">
                                                <i class="mdi mdi-file-document text-warning"></i> Contract <span class="text-danger">*</span>
                                            </label>
                                            <select formControlName="contractId" class="form-select" (change)="onContractChange($event)">
                                                <option [ngValue]="null" disabled selected class="bg-warning text-white">
                                                    Select a Contract
                                                </option>
                                                <option *ngFor="let contract of contract" [value]="contract.id">
                                                    <div innerHtml="{{contract.contract_title}}"></div>                                                </option>
                                            </select>
                                        </div>
                                        <div class="invalid-feedback" *ngIf="submitted && registerForm.controls['contractId'].errors?.['required']">
                                            Please Select a Contract.
                                        </div>
                                    </div>
                                </div>
                    
                       
                              
                                <div class="card-body" style="height: 450px !important">
                                    <h6 class="text-uppercase mt-0 text-primary">Each Payment</h6>
                                    <div *ngIf="chart14_no_data" class="row" style="display: flex; align-items: center; justify-content: center; height: 100%; padding-bottom: 12px;">
                                        <canvas id="MyChart14"></canvas>
                                    </div>
                                    <div *ngIf="!chart14_no_data" style="width: 100%; height: 100%; position: relative;">
                                        <div style="text-align: center; width: 100%; height: 100%; position: absolute; left: 0; top: 50%; z-index: 200;">
                                            <b>No Payments</b>
                                        </div>
                                    </div>
                                    
                                </div>
                                         <!-- Payment Each Chart -->
                                         <div class="card-body" style="height: 450px !important">
                                            <h6 class="text-uppercase mt-0 text-primary">Each Payment Amount</h6>
                                            <div *ngIf="chart13_no_data" class="row" style="display: flex; align-items: center; justify-content: center; height: 100%; padding-bottom: 12px;">
                                                <canvas id="MyChart13"></canvas>
                                            </div>
                                            <div *ngIf="!chart13_no_data" style="width: 100%; height: 100%; position: relative;">
                                                <div style="text-align: center; width: 100%; height: 100%; position: absolute; left: 0; top: 50%; z-index: 200;">
                                                    <b>No Payments</b>
                                                </div>
                                            </div>
                                        </div>
                           
                             <div class="card" *ngIf="!manager_detail_data_is_ready" style="z-index: 12;">
                                <div class="card-body card__ is-loading" style="height: 350px !important">
                                    <h6 class="text-uppercase mt-0"></h6>
                                    <h5></h5>
                                </div>
                            </div>
                           </div>
                         </div>
                     
                    </div>
                    
                    
                    
            <!-- user dashboard ending-->

            <!--============End of Admin Dashboard=====================-->

        </div>
    </div>
</div>

<swal #SwalSessionExpired title="Warning" text="Your session has expired! please login to continue." icon="warning"
    [showCancelButton]="false" [showConfirmButton]="false" [timer]="3500" [focusCancel]="true">
</swal>
